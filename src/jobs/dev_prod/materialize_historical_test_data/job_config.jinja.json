[
    {
        "name": "sync partition metadata",
        "type": "presto",
        "conn_id": "[@dag-eval presto_conn_id @]",
        "sql_source": "github",
        "sql_script_conn": "[@dag-eval github_conn_id @]",
        "sql_script_git_repo": "10gen/dev-prod-etls",
        "sql_script_name": "src/jobs/dev_prod/materialize_historical_test_data/sql/sync_partition_metadata.sql",
        "sql_script_git_branch": "main",
        "children": {"aggregate and insert daily test stats": "on_success"}
    },
    {
        "name": "aggregate and insert daily test stats",
        "max_retries": 5,
        "retry_backoff": 10,
        "type": "presto",
        "conn_id": "[@dag-eval presto_conn_id @]",
        "destination": {
            "type": "mongodb",
            "dest_mdb_database": "cedar",
            "dest_mdb_collection": "presto_historical_test_data",
            "dest_mdb_conn_info": "[@dag-eval mdb_conn_id @]",
            "dest_mdb_op": "insert",
            "dest_mdb_upsert": true,
            "dest_mdb_convert": true,
            "dest_mdb_upsert_filter_cols": "info"
        },
        "sql_source": "github",
        "sql_script_conn": "[@dag-eval github_conn_id @]",
        "sql_script_git_repo": "10gen/dev-prod-etls",
        "sql_script_name": "src/jobs/dev_prod/materialize_historical_test_data/sql/aggregate_and_insert_daily_test_stats.sql",
        "sql_script_git_branch": "main"
    }
]
